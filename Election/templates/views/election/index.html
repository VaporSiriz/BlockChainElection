{% extends "default.html" %}

{% block head %}
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no">
<title>한표</title>
<!-- <link rel="stylesheet" type="text/css" href="dist/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="css/reset.css?">
	<link rel="stylesheet" type="text/css" href="css/style.css?a"> -->

<link rel="shortcut icon" href="{{ url_for('static', filename='images/favicon/favicon.ico') }}">
<link rel="apple-touch-icon-precomposed"
    href="{{ url_for('static', filename='images/favicon/flat-design-touch.png') }}">

<!-- <script src="./dist/jquery.min.js"></script>
        
	<script src="./dist/bootstrap.min.js"></script> -->
<script src='https://kit.fontawesome.com/a076d05399.js'></script>

<link href="{{ url_for('static', filename='hj/dist/bootstrap.min.css') }}" rel="stylesheet" type="text/css">
<link href="{{ url_for('static', filename='hj/css/reset.css') }}" rel="stylesheet" type="text/css">
<link href="{{ url_for('static', filename='hj/css/style.css') }}" rel="stylesheet" type="text/css">

<script src="{{ url_for('static', filename='hj/dist/jquery.min.js') }}"></script>
<script src="{{ url_for('static', filename='hj/dist/bootstrap.min.js') }}"></script>



<!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<![endif]-->
{% endblock %}
{% block content %}
<div id="wrap">
    <section class="content-header_h">
        <h2>온라인 투표 시스템</h2>
        <h1>한 표</h1>
    </section>
    <section class="vote-content_h">
        <div class="container">
            <div class="tab-bar">
                <button type="button" class="tab-menu_h btn btn-warning selected">진행 중인 투표</button>
                <button type="button" class="tab-menu_h btn btn-secondary">종료 된 투표</button>
            </div>
            <div style="text-align: right;">
                <a href="{{ url_for('election_page.tlist') }}">자세히 보기</a>
            </div>
        </div>
        <!-- <a href="{{ url_for('election_page.tlist') }}">자세히</a> -->
        <div class="container-main_h selected-carousel-con">
            <div id="multi-item-example" class="carousel slide" data-ride="carousel">
                <!--Slides-->
                <div class="carousel-inner selected-carousel-con" role="listbox">
                    <!--First slide-->
                    {% for election in startElections %}
                        {% if startElections.index(election)%3 == 0 %}
                            {% if startElections.index(election) == 0 %}
                    <div class="item active">
                            {% else %}
                    <div class="item">
                            {% endif %}
                        <div class="container-vote_h">
                        {% endif %}
                            <div class="card">
                                <img src="{{ url_for('static', filename='hj/images/1.PNG') }}" class="card-img-top"
                                    alt="...">
                                <div class="card-body">
                                    <h5 class="card-title">{{ election.title }}</h5>
                                    <p class="card-text">
                                        현재 투표 수 : 12314<br>
                                        <h6>시작:{{ election.startat.strftime("%Y/%m/%d") }}</h6>
                                        <h6>종료:{{ election.endat.strftime("%Y/%m/%d") }}</h6>
                                    </p>
                                    <div class="btn-con_h">
                                        <button type="button" class="card-btn btn btn-warning">상세보기</button>
                                        <button type="button" class="btn btn-warning" data-toggle="popover"
                                            data-placement="bottom" data-content="로그인이 필요합니다.">투표하기</button>
                                        <button type="button" class="btn btn-share" data-toggle="popover" title="공유"
                                            data-placement="top" data-content="https://www.naver.com/ 복사">
                                            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-share-fill"
                                                fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                                <path fill-rule="evenodd"
                                                    d="M11 2.5a2.5 2.5 0 1 1 .603 1.628l-6.718 3.12a2.499 2.499 0 0 1 0 1.504l6.718 3.12a2.5 2.5 0 1 1-.488.876l-6.718-3.12a2.5 2.5 0 1 1 0-3.256l6.718-3.12A2.5 2.5 0 0 1 11 2.5z" />
                                            </svg>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        {% if startElections.index(election)%3 == 2 %}
                        </div>
                    </div>
                        {% endif %}
                    {% endfor %}
                        </div>
                    </div>
                </div>
                <div class="controls-bottom">
                    <a href="#multi-item-example" data-slide="prev"><i class="fas fa-angle-left fa-3x pr-3"></i></a>
                    <a href="#multi-item-example" data-slide="next"><i class="fas fa-angle-right fa-3x pl-3"></i></a>
                </div>
            </div>
        </div>
        <div class="container-main_h carousel-con">
            <div id="multi-item-example2" class="carousel slide" data-ride="carousel">
                <!--Slides-->
                <div class="carousel-inner carousel-con" role="listbox">
                    <!--First slide-->
                    {% for election in endElections %}
                        {% if endElections.index(election)%3 == 0 %}
                            {% if endElections.index(election) == 0 %}
                    <div class="item active">
                            {% else %}
                    <div class="item">
                            {% endif %}
                        <div class="container-vote_h">
                        {% endif %}
                            <div class="card">
                                <img src="{{ url_for('static', filename='hj/images/p2.jpg') }}" class="card-img-top"
                                    alt="...">
                                <div class="card-body">
                                    <h5 class="card-title">{{ election.title }}</h5>
                                    <p class="card-text">
                                        현재 투표 수 : 12314<br>
                                        <h6>시작:{{ election.startat.strftime("%Y/%m/%d") }}</h6>
                                        <h6>종료:{{ election.endat.strftime("%Y/%m/%d") }}</h6>
                                    </p>
                                    <div class="btn-con_h">
                                        <button type="button" class="card-btn btn btn-warning">상세보기</button>
                                        <button type="button" class="btn btn-warning" data-toggle="popover"
                                            data-placement="bottom" data-content="로그인이 필요합니다.">결과보기</button>
                                        <button type="button" class="btn btn-share" data-toggle="popover" title="공유"
                                            data-placement="top" data-content="https://www.naver.com/ 복사">
                                            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-share-fill"
                                                fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                                <path fill-rule="evenodd"
                                                    d="M11 2.5a2.5 2.5 0 1 1 .603 1.628l-6.718 3.12a2.499 2.499 0 0 1 0 1.504l6.718 3.12a2.5 2.5 0 1 1-.488.876l-6.718-3.12a2.5 2.5 0 1 1 0-3.256l6.718-3.12A2.5 2.5 0 0 1 11 2.5z" />
                                            </svg>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        {% if endElections.index(election)%3 == 2 %}
                        </div>
                    </div>
                        {% endif %}
                    {% endfor %}
                        </div>
                    </div>
                </div>
                <div class="controls-bottom">
                    <a href="#multi-item-example2" data-slide="prev"><i class="fas fa-angle-left fa-3x pr-3"></i></a>
                    <a href="#multi-item-example2" data-slide="next"><i class="fas fa-angle-right fa-3x pl-3"></i></a>
                </div>
            </div>
        </div>

    </section>
    <script type="text/javascript">
        $(function () {
            $('[data-toggle="popover"]').popover()
        })
        $(function () {
            $('.tab-menu_h').click(function () {
                $('.selected').addClass('btn-secondary');
                $('.selected').removeClass('tab-menu_h btn-warning');
                $(this).removeClass('btn-secondary');
                $(this).addClass('selected btn-warning');
                // tab 전환

                var previous = $('.selected-carousel-con');
                var after = $('.carousel-con');
                previous.removeClass('selected-carousel-con');
                previous.addClass('carousel-con');
                after.addClass('selected-carousel-con');
                after.removeClass('carousel-con');

                var child_pre = previous.children();
                for (var child in child_pre) {
                    child.removeClass('active');
                }
                after.children()[0].addClass('active');
            });
        });
        $(function () {
            $('.card-btn').click(function () {
                //location.href="./voter.html";
                location.href = "{{ url_for('election_page.voter_list') }}";
            })
        })
    </script>
    {% endblock %}